REPLIT AGENT PROMPT (SAFE DEMO PORTAL SEED + BRANDING, NO BREAKAGE)

Objective
Create a single, fully fake “demo account” and “demo development” that can be used for App Store screenshots/review without exposing real client branding or data. Must not break existing auth, tenant isolation, RLS, or production behaviour.

Non-negotiables
- Do NOT modify or weaken security, RLS, or multi-tenant isolation.
- Do NOT change existing schemas unless absolutely necessary. Prefer additive changes only.
- Do NOT affect real tenants or real users.
- All demo data must be clearly marked as DEMO and safely separable (via a flag or dedicated tenant/development).
- Demo mode must be reversible via env var or feature flag (no manual cleanup required).
- Make minimal, surgical UI changes to insert the OpenHouse logo.

Inputs (demo content requirements)
Demo “user/homeowner”
- Name: Keely O’Grady
- Access code format must match real codes (use something like OH-PARK-009)
- Address: 9 OpenHouse Way, Cork, Ireland

Demo development
- Name: OpenHouse Park
- Must behave like a real development in the portal
- Must be isolated as its own tenant/development record

Demo portal should look “complete”
- Docs tab populated with fake but realistic docs (PDFs)
- At least one fake video in the video/updates tab (or whatever your portal uses)
- Any other key sections should have believable content (noticeboard posts, FAQs, etc) if those exist

Branding requirement
- Use the provided OpenHouse logo image:
  /mnt/data/OpenHouseAi App Logo.png
- Place it:
  1) Center of the chat interface (e.g., in the header of the chat panel or above the first message)
  2) Top toolbar (header/nav)
- Must not break layout on mobile

High-level approach (do this exactly)
Phase 1: Identify architecture + insertion points
1) Inspect the codebase to locate:
   - Where developments/units/access codes are stored (tables/models)
   - Where documents are stored and how they are rendered (storage bucket + db rows)
   - Where videos are stored and how they are rendered
   - Where chat UI header/toolbars are implemented
2) Identify the minimum data needed for a portal to render “fully populated”.

Phase 2: Add a dedicated DEMO tenant/development + unit
Implement demo data in ONE of the following safe ways (choose the least invasive):
Option A (preferred): Seed script + dedicated DEMO rows
- Create a seed script that inserts:
  - tenant: “OpenHouse Demo Tenant” (or similar)
  - development: “OpenHouse Park”
  - unit/house: “9 OpenHouse Way, Cork, Ireland”
  - access code: “OH-PARK-009”
  - demo homeowner display name: “Keely O’Grady”
- Tag every row with:
  - is_demo = true
  - demo_label = 'appstore'
- Ensure the access code lookup resolves to this unit and pulls the development context.

Option B: Local dev-only seed
- Only if production DB writes are risky. Implement a local seed and ensure screenshots can be captured in staging.

IMPORTANT: Do not break existing code paths. The demo should be created by adding rows that follow the same structure as real tenants, not by special-casing the portal logic.

Phase 3: Populate realistic fake documents
1) Create 6–10 fake PDFs that look credible. Use programmatic generation so we don’t rely on external assets.
   Examples:
   - “Homeowner Welcome Pack - OpenHouse Park.pdf”
   - “Appliance Warranty Summary.pdf”
   - “Heating System Quick Start Guide.pdf”
   - “Floor Plan - Unit 9.pdf”
   - “Bin Collection and Waste Guidelines.pdf”
   - “Snagging and Defects Process.pdf”
   - “Broadband and Utilities Setup.pdf”
2) Store them using the same pipeline as real docs:
   - upload to the same storage bucket
   - insert db rows with correct metadata (title, category, file URL/path, unit/development association)
3) Ensure docs render in the Docs tab without any UI hacks.

Phase 4: Populate a fake video entry
1) Add one “Welcome to OpenHouse Park” video entry.
2) Implement the least risky method:
   - If your app uses hosted video URLs, use a safe placeholder URL and ensure it plays.
   - If your app requires a stored file, add a small MP4 into storage (can be a lightweight placeholder).
3) Ensure the portal video screen shows a thumbnail + title + plays smoothly.

Phase 5: Add demo noticeboard/updates (if the app supports it)
Add 3–6 posts, examples:
- “Move-in Day Checklist”
- “Waste Collection Schedule”
- “Resident Parking Guidelines”
- “Local Recommendations Nearby”
Attach dates and make them look current.

Phase 6: Add logo into toolbar + chat
1) Add the logo file into the repo under the correct static assets path (e.g., /public/brand/openhouse-logo.png).
   - Copy from: /mnt/data/OpenHouseAi App Logo.png
2) Update UI components:
   - Top toolbar/header: add logo left of app name, sized appropriately (e.g., 28–32px high), responsive.
   - Chat interface: add centered logo in the chat header area (not inside message bubbles).
3) Verify:
   - No layout shifts
   - Works on iPhone widths
   - Dark mode ok if applicable

Phase 7: Demo access flow
1) Ensure Keely O’Grady can access using only the access code (no username/password).
2) Add a dedicated “App Review Demo” note in-app ONLY if already supported (do not add new UI copy unless trivial).
3) Confirm the review flow:
   - Enter code OH-PARK-009
   - Land on OpenHouse Park portal
   - Docs populated
   - Video accessible
   - Chat works and shows logo

Phase 8: Guardrails to prevent accidental public exposure
1) Ensure demo development name and docs are generic (no real brands, no real addresses).
2) Add an env var flag:
   - DEMO_SEED_ENABLED=true
   - When true: seed script runs idempotently (creates if missing, does nothing if exists)
   - When false: no seeding occurs
3) Add a safe “is_demo” filter so demo content never appears in real tenant analytics dashboards unless that tenant is demo.

Deliverables
- A single command to run seed (idempotent), e.g.:
  npm run seed:demo
- Demo access code: OH-PARK-009
- Demo portal renders fully with:
  - 6–10 docs
  - 1 video
  - a few posts/updates (if supported)
- Logo placed in:
  - Top toolbar
  - Chat header/center

Validation checklist (must complete before finishing)
- Existing tenants unaffected
- No schema breaking migrations
- RLS policies unchanged or strictly tightened
- Demo data isolated via is_demo + tenant/development scoping
- All pages load without errors
- Mobile layout verified (iPhone width)
- App Store screenshots can be captured without client branding

Start now.
First: scan the codebase and report the exact tables/models/endpoints involved for:
- access code lookup
- development/unit association
- docs list + storage
- video list + playback
- chat UI header + top toolbar components
Then implement the changes in the least invasive way.
