Replit Agent Prompt: Fix mobile chat UI (remove “0px red box” + restore Chrome scroll) without breaking anything

Context
- Repo: PropertyAssistant monorepo
- App: apps/unified-portal (Next.js)
- Problem A (iOS Safari): A small red/pink “0px” bar is still rendering above the bottom nav on the Chat tab (looks like a stray indicator element bleeding outside the nav item).
- Problem B (iOS Chrome): In an active chat, the message list does not scroll freely (scroll gets trapped/stops, user cannot review prior messages).
- Non-negotiables:
  - Do NOT break existing layout that is now “basically fixed” on Safari.
  - Input must remain visible above the bottom toolbar on all mobile browsers.
  - No new debug UI in production.

Execution Plan (do in this order)

1) Remove any leftover debug overlay/badge that prints nav height (e.g. “nav: 0px”)
- Search entire unified-portal for strings:
  - "nav:"
  - "0px"
  - "debug"
  - "bottomNav"
  - "safe area"
- Likely files:
  - apps/unified-portal/components/purchaser/PurchaserChatTab.tsx
  - packages/ui/components/tenant-bottom-nav.tsx
- If you find any UI element (badge/div) that displays nav height or “nav: …px”, delete it completely (or guard behind a hard dev-only flag that is false in production). Ensure nothing renders on mobile.

2) Fix the red/pink bar bleed on iOS Safari (the “0px red box”)
- Open: packages/ui/components/tenant-bottom-nav.tsx
- Identify the active-tab indicator element (currently an absolute positioned bar). In the screenshot it’s bleeding upward into the content area.
- Make the indicator strictly clip within the tab item:
  - Ensure the Link container has `relative overflow-hidden` so any indicator cannot escape.
  - Reposition the indicator to the bottom INSIDE the tab item, not the top:
    - Use `absolute bottom-0 left-1/2 -translate-x-1/2`
    - Keep height small (h-1) and width similar (w-10/w-12)
  - Remove any animation or transform that can cause subpixel “jumping” on iOS if it contributes. If animation stays, it must not alter layout.
- Goal: No coloured bar visible above the nav in Safari. The active indicator remains inside the nav button only.

Suggested safe change (implement, adjust classnames to match your existing tokens):
- In the active indicator div:
  - Replace `top-0 ... rounded-b-full` with `bottom-0 ... rounded-t-full`
- On the Link:
  - Add `overflow-hidden` (keep `relative`)

3) Fix iOS Chrome chat scrolling (message list must scroll independently)
- Open: apps/unified-portal/components/purchaser/PurchaserChatTab.tsx
- Ensure the layout uses the standard “flex + min-h-0” pattern so the scroll container can actually scroll:
  - Outer page container: `flex flex-col h-[100dvh]` (or equivalent)
  - Chat content wrapper that contains messages: `flex-1 min-h-0`
  - Message list container: `flex-1 min-h-0 overflow-y-auto overscroll-contain`
- Add iOS momentum scrolling:
  - Inline style on the message list: `{ WebkitOverflowScrolling: 'touch' }`
- Prevent parent containers from accidentally capturing scroll:
  - Ensure no parent of the message list has `overflow-hidden` unless required. If required, the message list must still be `overflow-y-auto` with `min-h-0`.
- If you already set dynamic height using safe-area + nav height, keep it, but verify the scroll container is the one that scrolls (not the whole page).

4) Regression checks (must do)
- Mobile Safari:
  - First load: input visible, not overlapping bottom nav, no red/pink bar above nav, no “nav: 0px” badge anywhere.
  - In-chat: message list scrolls, input stays pinned above nav, scrolling doesn’t hide the input.
- iOS Chrome:
  - In-chat: message list scrolls freely up/down, can reach top and bottom, no scroll locking.
- Desktop:
  - No layout regressions on PurchaserChatTab.

5) Output
- After changes, run the dev server and verify visually.
- Keep changes minimal and localized to the two files above unless you find the debug element elsewhere.

Files to edit (expected)
- packages/ui/components/tenant-bottom-nav.tsx
- apps/unified-portal/components/purchaser/PurchaserChatTab.tsx

Do not change any API logic or data fetching. This is UI behaviour only.
