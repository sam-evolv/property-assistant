Stop claiming “complete”. The current branding audit is invalid because it reports Total Units = 1 while we have multiple estates/units. We must produce a REAL audit across every unit that can be resolved by the purchaser portal runtime (including any “Supabase fallback” path).

Acceptance criteria
- Branding audit must enumerate ALL resolvable units (not just DB rows after cleanup).
- For each resolvable unit, audit must confirm:
  - unit.development_id present
  - development.name present and correct
  - development_logo_url present for the 3 estates (Longview/Rathard Park/Rathard Lawn)
- Total Units count must match reality (not 1).
- No unit should ever resolve to another estate’s logo.
- Remove the “Supabase fallback” inconsistency or make it deterministic and included in the audit.

PHASE 1: Identify the real sources of truth
1) Locate all code paths that resolve a unit for the purchaser portal:
   - primary DB query path
   - “Supabase fallback” path
   - token/access-code resolver
2) Document (in code comments) what each source is, when it is used, and what fields it returns.

PHASE 2: Fix branding-audit to enumerate what the app can actually load
3) Update scripts/branding-audit.ts so it enumerates units by the SAME resolver used by the portal, not by “select * from units”.
   Options (implement at least one, prefer both):
   A) Enumerate all unit tokens/access codes from the auth/token table (or wherever tokens are stored), then resolve each via the same function the API uses.
   B) Enumerate all units from DB AND from the fallback store, union them, then resolve development/branding for each.
4) Ensure audit prints:
   - total resolvable units
   - counts per development name
   - list of any failures with unitId/token and what field is missing
5) The audit must not silently skip records; if something is inaccessible, count it as a failure with reason.

PHASE 3: Eliminate “fallback can regress branding”
6) The statement “units are still accessible via Supabase fallback in the API” is unacceptable unless:
   - fallback returns a development_id that exists in our canonical developments table
   - fallback returns consistent development.name + logo_url
7) Refactor so both paths return the same shape and use the same development lookup.
8) Add runtime assertion: if a unit resolves without development_id, log error and return a neutral state (no cross-tenant logo).

PHASE 4: Validate with real numbers
9) Run the updated audit and paste output into the PR:
   - Total units must be > 1 and must reflect reality.
   - Must show at least 1 unit per estate (if you have them).
10) Manually verify with 3 known unit tokens (one per estate) and confirm:
    - intro subtitle shows the estate name
    - header and center logo match estate

PHASE 5: Guardrail
11) Add a CI check (or predeploy script) that runs branding-audit and fails deploy if any failures > 0.

Deliverable
- Updated branding-audit that reflects runtime-resolvable units
- Refactored resolver so fallback cannot bypass development branding
- Output proving Total Units is correct and failures are 0
- Only then can we call this “complete”
